plugins {
    id ('com.android.application')
    id ('com.google.gms.google-services') version "4.3.15" apply false // Firebase eklentisi
    id ('kotlin-android')
    id ('dev.flutter.flutter-gradle-plugin')
}

android {
    namespace = ("com.example.todo_app1")
    compileSdk = flutter.compileSdkVersion
    ndkVersion = flutter.ndkVersion

    buildFeatures {
        buildConfig true
    }

    compileOptions {
        sourceCompatibility = JavaVersion.VERSION_1_8
        targetCompatibility = JavaVersion.VERSION_1_8
    }

    kotlinOptions {
        jvmTarget = JavaVersion.VERSION_1_8
    }

    defaultConfig {
        applicationId ("com.example.todo_app1")
        minSdkVersion 23
        targetSdkVersion 33
        versionCode 1
        versionName ("1.0.0")

        // Google Maps API Key
        buildConfigField ("String", "MAPS_API_KEY", "\"${getLocalProperty('MAPS_API_KEY')}\"")
    }

    buildTypes {
        release {
            signingConfig = signingConfigs.debug
        }
    }
}

flutter {
    source = ("../..")
}

def getLocalProperty(key) {
    def properties = new Properties()
    file(rootProject.file("local.properties")).withInputStream {
        properties.load(it)
    }
    return properties.getProperty(key)
}

// Firebase için gerekli eklentiyi uygula
apply plugin: ('com.google.gms.google-services')

dependencies {
    // Firebase BoM
    implementation(platform("com.google.firebase:firebase-bom:33.7.0"))

    // Firebase ürünleri
    implementation("com.google.firebase:firebase-analytics")
    implementation ('com.google.firebase:firebase-auth')

    // Diğer gerekli bağımlılıklar (örneğin Google Maps için)
    implementation ('com.google.android.gms:play-services-maps:18.0.2')
    implementation ('com.google.android.gms:play-services-location:21.0.1')
}

